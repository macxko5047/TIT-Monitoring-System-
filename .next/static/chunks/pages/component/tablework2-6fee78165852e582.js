(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{1953:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var i=n(7462),r=n(3366),a=n(7294),l=n(6010),o=n(9731),s=n(6523),c=n(9707),u=n(6682),d=n(5893);let m=["className","component"];var h=n(7078),p=n(9762);let f=(0,p.Z)(),b=function(e={}){let{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:h,styleFunctionSx:p=s.Z}=e,f=(0,o.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(p),b=a.forwardRef(function(e,a){let o=(0,u.Z)(t),s=(0,c.Z)(e),{className:p,component:b="div"}=s,k=(0,r.Z)(s,m);return(0,d.jsx)(f,(0,i.Z)({as:b,ref:a,className:(0,l.Z)(p,h?h(n):n),theme:o},k))});return b}({defaultTheme:f,defaultClassName:"MuiBox-root",generateClassName:h.Z.generate});var k=b},6433:function(e,t,n){"use strict";n.d(t,{T:function(){return w}});var i=n(7462),r=n(3366),a=n(7294),l=n(7169),o=n(562),s=n(1719),c=n(5400),u=n(3655),d=n(8836),m=n(4696),h=n(1207),p=n(4791),f=n(5893);let b=["quickFilterParser","quickFilterFormatter","debounceMs"],k=(0,s.ZP)(l.Z,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${e.palette.divider}`},[`& input[type=search]::-ms-clear,
& input[type=search]::-ms-reveal`]:{display:"none",width:0,height:0},[`& input[type="search"]::-webkit-search-decoration,
  & input[type="search"]::-webkit-search-cancel-button,
  & input[type="search"]::-webkit-search-results-button,
  & input[type="search"]::-webkit-search-results-decoration`]:{display:"none"}})),x=e=>e.split(" ").filter(e=>""!==e),_=e=>e.join(" ");function w(e){var t;let{quickFilterParser:n=x,quickFilterFormatter:l=_,debounceMs:s=500}=e,w=(0,r.Z)(e,b),g=(0,u.l)(),Z=(0,d.B)(),I=(0,m.P)(g,h.Az),[v,N]=a.useState(()=>l(null!=I?I:[])),[y,D]=a.useState(I);a.useEffect(()=>{(0,p.xb)(y,I)||(D(I),N(e=>(0,p.xb)(n(e),I)?e:l(null!=I?I:[])))},[y,I,l,n]);let F=a.useCallback(e=>{g.current.setQuickFilterValues(n(e))},[g,n]),j=a.useMemo(()=>(0,c.Z)(F,s),[F,s]),C=a.useCallback(e=>{let t=e.target.value;N(t),j(t)},[j]),P=a.useCallback(()=>{N(""),F("")},[F]);return(0,f.jsx)(k,(0,i.Z)({as:Z.components.BaseTextField,variant:"standard",value:v,onChange:C,placeholder:g.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":g.current.getLocaleText("toolbarQuickFilterLabel"),type:"search",InputProps:{startAdornment:(0,f.jsx)(Z.components.QuickFilterIcon,{fontSize:"small"}),endAdornment:(0,f.jsx)(o.Z,{"aria-label":g.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:v?"visible":"hidden"},onClick:P,children:(0,f.jsx)(Z.components.QuickFilterClearIcon,{fontSize:"small"})})}},w,null==(t=Z.componentsProps)?void 0:t.baseTextField))}},4615:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/component/tablework2",function(){return n(226)}])},1019:function(e,t,n){"use strict";var i=n(9802);let r=(0,i.eI)("https://lldzljxhukgbylauxnvo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZHpsanhodWtnYnlsYXV4bnZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyOTkwMDIsImV4cCI6MTk4NTg3NTAwMn0.Lp4hg1lEBD7KYFckhxaG6NPGo5LSWngUBa37UDhkrNQ");t.Z=r},226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(5893),r=n(7294),a=n(1953),l=n(6433),o=n(9712),s=n(9630),c=n(1019),u=n(754);function d(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Z,{sx:{p:.5,pb:0},children:[(0,i.jsx)(s.Z,{sx:{fontSize:28},children:"Down time"}),(0,i.jsx)(l.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)})]})})}function m(){let[e,t]=(0,r.useState)(!1),[n,l]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=async()=>{h(!0);let{data:e}=await c.Z.from("Downtime_record").select("*").eq("Work_order_id",localStorage.getItem("Work_order_id")).eq("PD_key",localStorage.getItem("PD_key"));l(e)};e(),h(!1)},[]),(0,r.useEffect)(()=>{let e=c.Z.channel("custom-all-downtime").on("postgres_changes",{event:"*",schema:"public",table:"Downtime_record"},e=>{console.log("Change received Downtime_record",e),p()}).subscribe();return()=>{c.Z.removeChannel(e)}},[n]);let p=async()=>{let{data:e,error:t}=await c.Z.from("Downtime_record").select("*").filter("PD_key","in","("+localStorage.getItem("PD_key")+")");l(e)};return((0,r.useEffect)(()=>{t(!0)},[]),e)?m?(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(s.Z,{sx:{fontSize:50},children:"Loading..."}),(0,i.jsx)(u.Z,{})]}):(0,i.jsx)(a.Z,{sx:{height:400,width:1},children:(0,i.jsx)(o._,{rows:n,columns:[{field:"id",headerName:"NO"},{field:"Downtime_code",headerName:"Downtime_code"},{field:"Begin_time",headerName:"Begin_time"},{field:"End_time",headerName:"End_time"},{field:"Duration_downtime",headerName:"Duration_downtime"},{field:"Downtime_description",headerName:"Detail",width:200}],components:{Toolbar:d}})}):null}}},function(e){e.O(0,[607,950,963,626,82,941,712,774,888,179],function(){return e(e.s=4615)}),_N_E=e.O()}]);