(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{5741:function(e,t,i){"use strict";i.d(t,{V:function(){return r}});var n=i(1588),a=i(4867);function r(e){return(0,a.Z)("MuiDivider",e)}let s=(0,n.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=s},8164:function(e,t,i){"use strict";i.d(t,{f:function(){return r}});var n=i(1588),a=i(4867);function r(e){return(0,a.Z)("MuiListItemIcon",e)}let s=(0,n.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.Z=s},7484:function(e,t,i){"use strict";i.d(t,{L:function(){return r}});var n=i(1588),a=i(4867);function r(e){return(0,a.Z)("MuiListItemText",e)}let s=(0,n.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.Z=s},1538:function(e,t,i){"use strict";i.d(t,{Z:function(){return S}});var n=i(3366),a=i(7462),r=i(7294),s=i(6010),l=i(4780),o=i(1796),d=i(1719),c=i(8884),u=i(7742),p=i(9828),m=i(3289),h=i(4771),Z=i(5741),v=i(8164),f=i(7484),x=i(1588),I=i(4867);function g(e){return(0,I.Z)("MuiMenuItem",e)}let b=(0,x.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var y=i(5893);let j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(e,t)=>{let{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]},w=e=>{let{disabled:t,dense:i,divider:n,disableGutters:r,selected:s,classes:o}=e,d=(0,l.Z)({root:["root",i&&"dense",t&&"disabled",!r&&"gutters",n&&"divider",s&&"selected"]},g,o);return(0,a.Z)({},o,d)},M=(0,d.ZP)(p.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:C})(({theme:e,ownerState:t})=>(0,a.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,o.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${b.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Z.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Z.Z.inset}`]:{marginLeft:52},[`& .${f.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${f.Z.inset}`]:{paddingLeft:36},[`& .${v.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${v.Z.root} svg`]:{fontSize:"1.25rem"}}))),O=r.forwardRef(function(e,t){let i;let l=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:d="li",dense:p=!1,divider:Z=!1,disableGutters:v=!1,focusVisibleClassName:f,role:x="menuitem",tabIndex:I,className:g}=l,b=(0,n.Z)(l,j),C=r.useContext(u.Z),O=r.useMemo(()=>({dense:p||C.dense||!1,disableGutters:v}),[C.dense,p,v]),S=r.useRef(null);(0,m.Z)(()=>{o&&S.current&&S.current.focus()},[o]);let k=(0,a.Z)({},l,{dense:O.dense,divider:Z,disableGutters:v}),z=w(l),N=(0,h.Z)(S,t);return l.disabled||(i=void 0!==I?I:-1),(0,y.jsx)(u.Z.Provider,{value:O,children:(0,y.jsx)(M,(0,a.Z)({ref:N,role:x,tabIndex:i,component:d,focusVisibleClassName:(0,s.Z)(z.focusVisible,f),className:(0,s.Z)(z.root,g)},b,{ownerState:k,classes:z}))})});var S=O},4348:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/component/register1",function(){return i(8301)}])},1019:function(e,t,i){"use strict";var n=i(9802);let a=(0,n.eI)("https://lldzljxhukgbylauxnvo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZHpsanhodWtnYnlsYXV4bnZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyOTkwMDIsImV4cCI6MTk4NTg3NTAwMn0.Lp4hg1lEBD7KYFckhxaG6NPGo5LSWngUBa37UDhkrNQ");t.Z=a},8301:function(e,t,i){"use strict";i.r(t);var n=i(5893),a=i(7294),r=i(5084),s=i(793),l=i(7169),o=i(8346),d=i(9072),c=i(1953),u=i(9630),p=i(4288),m=i(9762),h=i(1927),Z=i(8316),v=i(1538),f=i(1019),x=i(3442),I=i(1163),g=i(5675),b=i.n(g),y=i(8945);let j=(0,m.Z)(),C=()=>{var e,t;let[i,m]=(0,a.useState)(""),[g,C]=(0,a.useState)(""),[w,M]=(0,a.useState)(null),O=(0,I.useRouter)(),S=async e=>{if(e.preventDefault(),!N||!i||!g){M(alert("กรุณากรอกข้อมูลให้ครบ"));return}let{data:t,error:n}=await f.Z.from("userID").insert([{emp_no:N,emp_name:V,department:$,pass:i,level:g}]);n&&(console.log(n),M("กรอกข้อมูลให้ครบด้วยครับ")),t&&(console.log(t),M(null)),alert("Register Success"),O.push("/draw")};(0,a.useEffect)(()=>{let e=async()=>{let e=await y.Z.request({url:"https://vdudlwqsrucojxjpqhvq.supabase.co/rest/v1/employee",method:"GET",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkdWRsd3FzcnVjb2p4anBxaHZxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2ODc2MDU2NSwiZXhwIjoxOTg0MzM2NTY1fQ.-Z5955b7zSmDnGV3n2y65qJDElz3zfdyxAVyffJIR7Q",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkdWRsd3FzcnVjb2p4anBxaHZxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2ODc2MDU2NSwiZXhwIjoxOTg0MzM2NTY1fQ.-Z5955b7zSmDnGV3n2y65qJDElz3zfdyxAVyffJIR7Q"}});e.data&&(console.log(e.data),z(e.data))};e()},[]);let[k,z]=(0,a.useState)([]),[N,J]=(0,a.useState)(""),V=(null===(e=k.filter(e=>e.emp_no==N)[0])||void 0===e?void 0:e.emp_name)||"",$=(null===(t=k.filter(e=>e.emp_no==N)[0])||void 0===t?void 0:t.department)||"",[D,T]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{T(!0)},[]),D)?(0,n.jsx)("div",{children:(0,n.jsx)(h.Z,{theme:j,children:(0,n.jsxs)(p.Z,{component:"main",maxWidth:"xs",children:[(0,n.jsx)(s.ZP,{}),(0,n.jsxs)(c.Z,{sx:{marginTop:-1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(b(),{src:"/Logo.png",alt:"",width:"450",height:"250"}),(0,n.jsx)(u.Z,{variant:"h4",children:"Register"}),(0,n.jsxs)(c.Z,{component:"form",onSubmit:S,noValidate:!0,sx:{mt:3},children:[(0,n.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsx)(l.Z,{required:!0,fullWidth:!0,id:"emp_no",label:"User ID",name:"emp_no",value:N,onChange:e=>J(e.target.value)})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsx)(l.Z,{required:!0,fullWidth:!0,disabled:!0,id:"fullname",label:"Full name",name:"Fullname",value:V})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsx)(l.Z,{required:!0,fullWidth:!0,disabled:!0,id:"department",label:"Department",name:"department",value:$})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,children:(0,n.jsx)(l.Z,{required:!0,fullWidth:!0,name:"pass",label:"Password",type:"pass",id:"pass",autoComplete:"new-password",value:i,onChange:e=>m(e.target.value)})}),(0,n.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,n.jsx)(Z.Z,{children:"Level"}),(0,n.jsxs)(x.Z,{id:"level",label:"Level",name:"level",type:"level",fullWidth:!0,value:g,onChange:e=>C(e.target.value),children:[(0,n.jsx)(v.Z,{value:"Leader",children:"Leader"}),(0,n.jsx)(v.Z,{value:"Foreman",children:"Foreman"}),(0,n.jsx)(v.Z,{value:"Supervisor",children:"Supervisor"}),(0,n.jsx)(v.Z,{value:"Manager",children:"Manager"})]})]})]}),(0,n.jsx)(r.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"}),(0,n.jsx)(o.Z,{href:"/draw",children:(0,n.jsx)(r.Z,{name:"home",fullWidth:!0,variant:"outlined",sx:{mt:3,mb:2},children:"HOME"})}),(0,n.jsx)(d.ZP,{container:!0,justifyContent:"flex-end",children:(0,n.jsx)(d.ZP,{item:!0,children:w&&(0,n.jsx)("p",{className:"error",children:w})})})]})]})]})})}):null};t.default=C}},function(e){e.O(0,[607,950,963,626,592,152,487,774,888,179],function(){return e(e.s=4348)}),_N_E=e.O()}]);