(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4186)}])},1019:function(e,t,n){"use strict";var l=n(9802);let s=(0,l.eI)("https://lldzljxhukgbylauxnvo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZHpsanhodWtnYnlsYXV4bnZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyOTkwMDIsImV4cCI6MTk4NTg3NTAwMn0.Lp4hg1lEBD7KYFckhxaG6NPGo5LSWngUBa37UDhkrNQ");t.Z=s},4186:function(e,t,n){"use strict";n.r(t);var l=n(5893);n(7294);var s=n(9694);let a=()=>(0,l.jsx)("div",{children:(0,l.jsx)(s.default,{})});t.default=a},9694:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var l=n(5893),s=n(7294),a=n(5084),o=n(793),r=n(7169),i=n(2841),u=n(5158),m=n(1953),c=n(9630),d=n(4288),p=n(9762),h=n(1927),g=n(1019),x=n(87),f=n(1163),I=n(5675),v=n.n(I),Z=n(8637);let w=(0,p.Z)();function j(){let e=n(9704),[t,p]=(0,s.useState)(""),[I,j]=(0,s.useState)("");console.log(t,I);let _=(0,f.useRouter)(),b=(0,s.useContext)(x.Z);console.log(b);let[N,S]=(0,s.useState)("");console.log(N);let k=async()=>{let{data:n,error:l}=await g.Z.from("userID").select("*").eq("emp_no",t).eq("pass",I).limit(1);if(l)console.log(l);else{if(n.length>0){S(n[0]),b.setAppstate(n[0]);let s=e.sign({id:n[0].id,emp_no:n[0].username,level:n[0].level},"marko-login-tit");localStorage.setItem("token",s),localStorage.setItem("userName",n[0].emp_name),localStorage.setItem("Level",n[0].level),localStorage.setItem("emp_no",n[0].emp_no),"Admin"===n[0].level&&_.push("/draw"),"Manager"===n[0].level&&_.push("/draw"),"Leader"===n[0].level&&_.push("/draw"),"Foreman"===n[0].level&&_.push("/draw")}0===n.length&&alert("login false")}},y=e=>{e.preventDefault(),k()};return(0,l.jsx)(h.Z,{theme:w,children:(0,l.jsxs)(d.Z,{component:"main",maxWidth:"xs",children:[(0,l.jsx)(o.ZP,{}),(0,l.jsxs)(m.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(v(),{src:"/Logo1.png",alt:"",width:"520",height:"250"}),(0,l.jsx)(Z.Z,{color:"primary",sx:{fontSize:60,m:3}}),(0,l.jsx)(c.Z,{component:"h1",variant:"h4",color:"primary",children:"Production monitoring"}),(0,l.jsxs)(m.Z,{component:"form",onSubmit:y,noValidate:!0,sx:{mt:1},children:[(0,l.jsx)(r.Z,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"UserName",name:"username",autoComplete:"username",autoFocus:!0,onChange:e=>p(e.target.value)}),(0,l.jsx)(r.Z,{margin:"normal",required:!0,fullWidth:!0,name:"pass",label:"Password",type:"password",id:"pass",autoComplete:"current-password",onChange:e=>j(e.target.value)}),(0,l.jsx)(i.Z,{control:(0,l.jsx)(u.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,l.jsx)(a.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:t.length<1&&I.length<1,children:"Sign In"})]})]})]})})}}},function(e){e.O(0,[714,607,950,963,626,82,152,406,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);