(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(9694)}])},1019:function(e,n,t){"use strict";var l=t(9802);let s=(0,l.eI)("https://lldzljxhukgbylauxnvo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZHpsanhodWtnYnlsYXV4bnZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyOTkwMDIsImV4cCI6MTk4NTg3NTAwMn0.Lp4hg1lEBD7KYFckhxaG6NPGo5LSWngUBa37UDhkrNQ");n.Z=s},9694:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var l=t(5893),s=t(7294),o=t(5084),a=t(793),r=t(7169),i=t(2841),m=t(5158),u=t(1953),c=t(9630),p=t(4288),d=t(9762),h=t(1927),g=t(1019),x=t(87),I=t(1163),f=t(5675),Z=t.n(f),v=t(8637);let w=(0,d.Z)();function _(){let e=t(9704),[n,d]=(0,s.useState)(""),[f,_]=(0,s.useState)("");console.log(n,f);let b=(0,I.useRouter)(),j=(0,s.useContext)(x.Z);console.log(j);let[N,S]=(0,s.useState)("");console.log(N);let k=async()=>{let{data:t,error:l}=await g.Z.from("userID").select("*").eq("emp_no",n).eq("pass",f).limit(1);if(l)console.log(l);else{if(t.length>0){S(t[0]),j.setAppstate(t[0]);let s=e.sign({id:t[0].id,emp_no:t[0].username,level:t[0].level},"marko-login-tit");localStorage.setItem("token",s),localStorage.setItem("userName",t[0].emp_name),localStorage.setItem("Level",t[0].level),localStorage.setItem("emp_no",t[0].emp_no),"Admin"===t[0].level&&b.push("/draw"),"Manager"===t[0].level&&b.push("/draw"),"Leader"===t[0].level&&b.push("/draw"),"Foreman"===t[0].level&&b.push("/draw")}0===t.length&&alert("login false")}},y=e=>{e.preventDefault(),k()};return(0,l.jsx)(h.Z,{theme:w,children:(0,l.jsxs)(p.Z,{component:"main",maxWidth:"xs",children:[(0,l.jsx)(a.ZP,{}),(0,l.jsxs)(u.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(Z(),{src:"/Logo1.png",alt:"",width:"520",height:"250"}),(0,l.jsx)(v.Z,{color:"primary",sx:{fontSize:60,m:3}}),(0,l.jsx)(c.Z,{component:"h1",variant:"h4",color:"primary",children:"Production monitoring"}),(0,l.jsxs)(u.Z,{component:"form",onSubmit:y,noValidate:!0,sx:{mt:1},children:[(0,l.jsx)(r.Z,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"UserName",name:"username",autoComplete:"username",autoFocus:!0,onChange:e=>d(e.target.value)}),(0,l.jsx)(r.Z,{margin:"normal",required:!0,fullWidth:!0,name:"pass",label:"Password",type:"password",id:"pass",autoComplete:"current-password",onChange:e=>_(e.target.value)}),(0,l.jsx)(i.Z,{control:(0,l.jsx)(m.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,l.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:n.length<1&&f.length<1,children:"Sign In"})]})]})]})})}}},function(e){e.O(0,[714,607,950,963,626,82,152,406,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);