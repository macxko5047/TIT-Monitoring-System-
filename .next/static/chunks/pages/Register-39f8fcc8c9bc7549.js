(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{4938:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=r(8075)},8075:function(e,n,r){"use strict";r.r(n),r.d(n,{capitalize:function(){return i.Z},createChainedFunction:function(){return s},createSvgIcon:function(){return a.Z},debounce:function(){return l.Z},deprecatedPropType:function(){return o},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return h},setRef:function(){return x},unstable_ClassNameGenerator:function(){return v},unstable_useEnhancedEffect:function(){return m.Z},unstable_useId:function(){return Z.Z},unsupportedProp:function(){return p},useControlled:function(){return f.Z},useEventCallback:function(){return j.Z},useForkRef:function(){return g.Z},useIsFocusVisible:function(){return I.Z}});var t=r(7078),i=r(6622),s=r(9064).Z,a=r(8175),l=r(5400),o=function(e,n){return()=>null},u=r(7335),c=r(7505),d=r(7577);r(7462);var h=function(e,n){return()=>null},x=r(7960).Z,m=r(3289),Z=r(9669),p=function(e,n,r,t,i){return null},f=r(2293),j=r(6432),g=r(4771),I=r(1625);let v={configure(e){console.warn("MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.\n\nYou should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\n\nThe detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401\n\nThe updated documentation: https://mui.com/guides/classname-generator/"),t.Z.configure(e)}}},9669:function(e,n,r){"use strict";var t=r(7579);n.Z=t.Z},2959:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Register",function(){return r(7134)}])},1019:function(e,n,r){"use strict";var t=r(9802);let i=(0,t.eI)("https://lldzljxhukgbylauxnvo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxsZHpsanhodWtnYnlsYXV4bnZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzAyOTkwMDIsImV4cCI6MTk4NTg3NTAwMn0.Lp4hg1lEBD7KYFckhxaG6NPGo5LSWngUBa37UDhkrNQ");n.Z=i},7134:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return O}});var t=r(5893),i=r(7294),s=r(1719),a=r(2097),l=r(1927),o=r(1953),u=r(684),c=r(793),d=r(5050),h=r(784),x=r(5214),m=r(9630),Z=r(4373),p=r(562),f=r(326),j=r(9572),g=r(6215),I=r(5982),v=r(9894),b=r(1702),S=r(2165),w=r(8201),y=r(1538),_=r(3812),C=r(1163),P=r(87),k=r(8301);let z=(0,s.ZP)("main",{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:r}=e;return{flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:"-".concat(240,"px"),...r&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0}}}),N=(0,s.ZP)(d.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:r}=e;return{transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...r&&{width:"calc(100% - ".concat(240,"px)"),marginLeft:"".concat(240,"px"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}}}),M=(0,s.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}});function O(){let e=(0,a.Z)(),n=(0,C.useRouter)(),r=(0,i.useContext)(P.Z);console.log(r);let[s,d]=(0,i.useState)(!1),O=()=>{d(!0)},J=()=>{d(!1)},[D,E]=(0,i.useState)(null),T=e=>{E(e.currentTarget)},F=()=>{E(null)},R=()=>{null===localStorage.getItem("PD_key")&&(localStorage.clear(),n.push("/")),null!=localStorage.getItem("PD_key")&&alert("Please push STOP button before proceed  Logout !")},[L,W]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{W(!0)},[]),L)?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:(0,t.jsx)(l.Z,{theme:e,children:(0,t.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,t.jsx)(c.ZP,{}),(0,t.jsx)(N,{position:"fixed",open:s,children:(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(p.Z,{color:"inherit","aria-label":"open drawer",onClick:O,edge:"start",sx:{mr:2,...s&&{display:"none"}},children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(m.Z,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"SDAs. Supervisory and Data Acquistion"}),(0,t.jsxs)(p.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:T,color:"inherit",children:[(0,t.jsx)(w.Z,{})," \xa0 ",localStorage.getItem("userName")]}),(0,t.jsxs)(_.Z,{id:"menu-appbar",anchorEl:D,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(D),onClose:F,children:[(0,t.jsxs)(y.Z,{children:["Name : ",localStorage.getItem("userName")," \xa0 Level : ",localStorage.getItem("Level")]}),(0,t.jsx)(y.Z,{onClick:R,children:"Logout"})]})]})}),(0,t.jsxs)(u.ZP,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:s,children:[(0,t.jsx)(M,{children:(0,t.jsx)(p.Z,{onClick:J,children:"ltr"===e.direction?(0,t.jsx)(j.Z,{}):(0,t.jsx)(g.Z,{})})}),(0,t.jsx)(Z.Z,{}),(()=>{let e=localStorage.Level;if("Manager"===e)return(0,t.jsx)("div",{children:(0,t.jsxs)(x.Z,{children:[(0,t.jsxs)(I.Z,{href:"/draw",children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"Select WorkOder"})]}),(0,t.jsxs)(I.Z,{href:"/draw1",children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"Item Run"})]}),(0,t.jsx)(Z.Z,{}),(0,t.jsxs)(I.Z,{children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"โชว์ปุ่ม Manager"})]})]})})})(),(()=>{let e=localStorage.Level;if("Admin"===e)return(0,t.jsx)("div",{children:(0,t.jsxs)(x.Z,{children:[(0,t.jsxs)(I.Z,{href:"/draw",children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"Select WorkOder"})]}),(0,t.jsxs)(I.Z,{href:"/draw1",children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"Item Run"})]}),(0,t.jsx)(Z.Z,{}),(0,t.jsxs)(I.Z,{children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"โชว์ปุ่ม Admin3"})]}),(0,t.jsxs)(I.Z,{href:"./Register",children:[(0,t.jsx)(v.Z,{children:(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:"Register User"})]})]})})})(),(0,t.jsx)(Z.Z,{})]}),(0,t.jsxs)(z,{open:s,children:[(0,t.jsx)(M,{}),(0,t.jsx)(m.Z,{component:"span",variant:"body2",children:(0,t.jsx)(k.default,{})})]})]})})})}):null}},8301:function(e,n,r){"use strict";r.r(n);var t=r(5893),i=r(7294),s=r(5084),a=r(793),l=r(7169),o=r(8346),u=r(9072),c=r(1953),d=r(9630),h=r(4288),x=r(9762),m=r(1927),Z=r(8316),p=r(1538),f=r(1019),j=r(3442),g=r(1163),I=r(5675),v=r.n(I),b=r(8945);let S=(0,x.Z)(),w=()=>{var e,n;let[r,x]=(0,i.useState)(""),[I,w]=(0,i.useState)(""),[y,_]=(0,i.useState)(null),C=(0,g.useRouter)(),P=async e=>{if(e.preventDefault(),!N||!r||!I){_(alert("กรุณากรอกข้อมูลให้ครบ"));return}let{data:n,error:t}=await f.Z.from("userID").insert([{emp_no:N,emp_name:O,department:J,pass:r,level:I}]);t&&(console.log(t),_("กรอกข้อมูลให้ครบด้วยครับ")),n&&(console.log(n),_(null)),alert("Register Success"),C.push("/draw")};(0,i.useEffect)(()=>{let e=async()=>{let e=await b.Z.request({url:"https://vdudlwqsrucojxjpqhvq.supabase.co/rest/v1/employee",method:"GET",headers:{Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkdWRsd3FzcnVjb2p4anBxaHZxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2ODc2MDU2NSwiZXhwIjoxOTg0MzM2NTY1fQ.-Z5955b7zSmDnGV3n2y65qJDElz3zfdyxAVyffJIR7Q",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkdWRsd3FzcnVjb2p4anBxaHZxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY2ODc2MDU2NSwiZXhwIjoxOTg0MzM2NTY1fQ.-Z5955b7zSmDnGV3n2y65qJDElz3zfdyxAVyffJIR7Q"}});e.data&&(console.log(e.data),z(e.data))};e()},[]);let[k,z]=(0,i.useState)([]),[N,M]=(0,i.useState)(""),O=(null===(e=k.filter(e=>e.emp_no==N)[0])||void 0===e?void 0:e.emp_name)||"",J=(null===(n=k.filter(e=>e.emp_no==N)[0])||void 0===n?void 0:n.department)||"",[D,E]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{E(!0)},[]),D)?(0,t.jsx)("div",{children:(0,t.jsx)(m.Z,{theme:S,children:(0,t.jsxs)(h.Z,{component:"main",maxWidth:"xs",children:[(0,t.jsx)(a.ZP,{}),(0,t.jsxs)(c.Z,{sx:{marginTop:-1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(v(),{src:"/Logo.png",alt:"",width:"450",height:"250"}),(0,t.jsx)(d.Z,{variant:"h4",children:"Register"}),(0,t.jsxs)(c.Z,{component:"form",onSubmit:P,noValidate:!0,sx:{mt:3},children:[(0,t.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,children:(0,t.jsx)(l.Z,{required:!0,fullWidth:!0,id:"emp_no",label:"User ID",name:"emp_no",value:N,onChange:e=>M(e.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,children:(0,t.jsx)(l.Z,{required:!0,fullWidth:!0,disabled:!0,id:"fullname",label:"Full name",name:"Fullname",value:O})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,children:(0,t.jsx)(l.Z,{required:!0,fullWidth:!0,disabled:!0,id:"department",label:"Department",name:"department",value:J})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,children:(0,t.jsx)(l.Z,{required:!0,fullWidth:!0,name:"pass",label:"Password",type:"pass",id:"pass",autoComplete:"new-password",value:r,onChange:e=>x(e.target.value)})}),(0,t.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,t.jsx)(Z.Z,{children:"Level"}),(0,t.jsxs)(j.Z,{id:"level",label:"Level",name:"level",type:"level",fullWidth:!0,value:I,onChange:e=>w(e.target.value),children:[(0,t.jsx)(p.Z,{value:"Leader",children:"Leader"}),(0,t.jsx)(p.Z,{value:"Foreman",children:"Foreman"}),(0,t.jsx)(p.Z,{value:"Supervisor",children:"Supervisor"}),(0,t.jsx)(p.Z,{value:"Manager",children:"Manager"})]})]})]}),(0,t.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"}),(0,t.jsx)(o.Z,{href:"/draw",children:(0,t.jsx)(s.Z,{name:"home",fullWidth:!0,variant:"outlined",sx:{mt:3,mb:2},children:"HOME"})}),(0,t.jsx)(u.ZP,{container:!0,justifyContent:"flex-end",children:(0,t.jsx)(u.ZP,{item:!0,children:y&&(0,t.jsx)("p",{className:"error",children:y})})})]})]})]})})}):null};n.default=w},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[607,950,963,626,941,592,152,912,369,487,774,888,179],function(){return e(e.s=2959)}),_N_E=e.O()}]);