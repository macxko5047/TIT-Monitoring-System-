(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{9869:function(e,t,r){"use strict";var o=r(4836);t.Z=void 0;var n=o(r(4938)),i=r(5893),a=(0,n.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");t.Z=a},4945:function(e,t,r){"use strict";var o=r(4836);t.Z=void 0;var n=o(r(4938)),i=r(5893),a=(0,n.default)((0,i.jsx)("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"}),"PauseCircleOutline");t.Z=a},9602:function(e,t,r){"use strict";var o=r(4836);t.Z=void 0;var n=o(r(4938)),i=r(5893),a=(0,n.default)((0,i.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline");t.Z=a},8034:function(e,t,r){"use strict";var o=r(4836);t.Z=void 0;var n=o(r(4938)),i=r(5893),a=(0,n.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4 14H8V8h8v8z"}),"StopCircle");t.Z=a},637:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var o=r(5893),n=r(9604);function i(){return(0,o.jsx)(n.Z,{severity:"error",children:"Please select Downtime code."})}},8683:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var o=r(5893),n=r(9604);function i(){return(0,o.jsx)(n.Z,{severity:"error",children:"Please select NG code and input Q'ty."})}},2223:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(5893),n=r(7294),i=r(754),a=r(9630),l=r(1953),s=r(1019);function c(e){return(0,o.jsxs)(l.Z,{sx:{position:"relative",display:"inline-flex"},children:[(0,o.jsx)(i.Z,{variant:"determinate",...e}),(0,o.jsx)(l.Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(a.Z,{variant:"h5",component:"div",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}function d(){let[e,t]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:r}=await s.Z.from("Production_history").select("Open_qty, OK_qty").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").single();if(e){if(e.OK_qty<e.Open_qty){let o=e.OK_qty/e.Open_qty*100;t(o)}else t(100)}else t(0)};e()},[e]),(0,n.useEffect)(()=>{s.Z.channel("custom-update-Loading1").on("postgres_changes",{event:"UPDATE",schema:"public",table:"Production_history"},e=>{console.log("Change received! UpOK ",e),r()}).subscribe()},[e]);let r=async()=>{let{data:e,error:r}=await s.Z.from("Production_history").select("Open_qty, OK_qty").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").single();if(e){if(e.OK_qty<e.Open_qty){let o=e.OK_qty/e.Open_qty*100;t(o)}else t(100)}else t(0)};return(0,o.jsx)(c,{value:e,size:"5.5rem",color:"primary"})}},3007:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var o=r(5893),n=r(7294),i=r(754),a=r(9630),l=r(1953),s=r(1019);function c(e){return(0,o.jsxs)(l.Z,{sx:{position:"relative",display:"inline-flex"},children:[(0,o.jsx)(i.Z,{variant:"determinate",...e}),(0,o.jsx)(l.Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(a.Z,{variant:"h5",component:"div",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}function d(){let[e,t]=(0,n.useState)(0),r=new Date,i=r.getDate(),a=r.getMonth()+1,l=r.getFullYear();"".concat(l,"-").concat(a,"-").concat(i),(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:r}=await s.Z.from("Production_history").select("*").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").single();if(e){if(e.NG_qty<e.Open_qty){let o=e.NG_qty/e.Open_qty*100;t(o)}else t(100)}else t(0)};e()},[e]),(0,n.useEffect)(()=>{s.Z.channel("custom-update-Loading2").on("postgres_changes",{event:"*",schema:"public",table:"Production_history"},e=>{console.log("Change received! UpNG ",e),d()}).subscribe()},[e]);let d=async()=>{let{data:e,error:r}=await s.Z.from("Production_history").select("Open_qty, NG_qty").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").single();if(e){if(e.NG_qty<e.Open_qty){let o=e.NG_qty/e.Open_qty*100;t(o)}else t(100)}else t(0)};return(0,o.jsx)(c,{value:e,size:"5.5rem",color:"primary"})}},7215:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var o=r(5893),n=r(7294),i=r(9712),a=r(1019),l=r(754);function s(){let[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)([]);(0,n.useEffect)(()=>{t(!0);let e=async()=>{let{data:e,error:t}=await a.Z.from("Manpower_record").select("*").eq("PD_key",localStorage.getItem("PD_key"));e?s(e):console.log("fetch ManpowerError",t)};e(),t(!1)},[]);let c=async()=>{t(!0);let{data:e,error:r}=await a.Z.from("Manpower_record").select("*").eq("PD_key",localStorage.getItem("PD_key"));e?s(e):console.log("fetch ManpowerError",r),t(!1)};return(a.Z.channel("custom-all-ManpowerRecord2").on("postgres_changes",{event:"*",schema:"public",table:"Manpower_record"},e=>{console.log("Change received! ReloadManpower_record ",e),c()}).subscribe(),e)?(0,o.jsx)("div",{children:(0,o.jsx)(l.Z,{})}):(0,o.jsx)("div",{style:{height:320,width:"100%"},children:(0,o.jsx)(i._,{rows:r,columns:[{field:"emp_no",headerName:"no",width:60},{field:"emp_name",headerName:"Name",width:200},{field:"start_datetime",headerName:"start time",width:120},{field:"end_datetime",headerName:"end time",width:120},{field:"task_time",headerName:"task time",width:120}],pageSize:5,rowsPerPageOptions:[5]})})}},226:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var o=r(5893),n=r(7294),i=r(1953),a=r(6433),l=r(9712),s=r(9630),c=r(1019),d=r(754);function u(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(i.Z,{sx:{p:.5,pb:0},children:[(0,o.jsx)(s.Z,{sx:{fontSize:28},children:"Down time"}),(0,o.jsx)(a.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)})]})})}function m(){let[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)([]),[m,h]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=async()=>{h(!0);let{data:e}=await c.Z.from("Downtime_record").select("*").eq("Work_order_id",localStorage.getItem("Work_order_id")).eq("PD_key",localStorage.getItem("PD_key"));a(e)};e(),h(!1)},[]),(0,n.useEffect)(()=>{let e=c.Z.channel("custom-all-downtime").on("postgres_changes",{event:"*",schema:"public",table:"Downtime_record"},e=>{console.log("Change received Downtime_record",e),f()}).subscribe();return()=>{c.Z.removeChannel(e)}},[r]);let f=async()=>{let{data:e,error:t}=await c.Z.from("Downtime_record").select("*").filter("PD_key","in","("+localStorage.getItem("PD_key")+")");a(e)};return((0,n.useEffect)(()=>{t(!0)},[]),e)?m?(0,o.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(s.Z,{sx:{fontSize:50},children:"Loading..."}),(0,o.jsx)(d.Z,{})]}):(0,o.jsx)(i.Z,{sx:{height:400,width:1},children:(0,o.jsx)(l._,{rows:r,columns:[{field:"id",headerName:"NO"},{field:"Downtime_code",headerName:"Downtime_code"},{field:"Begin_time",headerName:"Begin_time"},{field:"End_time",headerName:"End_time"},{field:"Duration_downtime",headerName:"Duration_downtime"},{field:"Downtime_description",headerName:"Detail",width:200}],components:{Toolbar:u}})}):null}},2587:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var o=r(5893),n=r(7294),i=r(1401),a=r(1953),l=r(6433),s=r(9712),c=r(1019),d=r(9630),u=r(2096),m=r(5084),h=r(9144),f=r(1719),g=r(562),x=r(1733),p=r(9869),_=r(7169);let y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1e3,hight:450,bgcolor:"background.paper",border:"20px solid #87CEFA",boxShadow:24,pt:3,px:5,pb:3};function S(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.Z,{sx:{p:.5,pb:0},children:[(0,o.jsx)(d.Z,{sx:{fontSize:28},children:"NG Product"}),(0,o.jsx)(l.T,{quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)})]})})}function j(){let[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),j=()=>l(!0),Z=()=>l(!1),[w,v]=(0,n.useState)(""),[b,P]=(0,n.useState)(""),[k,D]=(0,n.useState)(!1),I=()=>D(!0),q=()=>D(!1),[O,N]=(0,n.useState)(""),[C,T]=(0,n.useState)(""),[E,z]=(0,n.useState)(""),[G,M]=(0,n.useState)(""),[F,W]=(0,n.useState)(""),A=new Date;A.getDate(),A.getMonth(),A.getFullYear(),A.getFullYear(),A.getMonth(),A.getDate();let[K,B]=(0,n.useState)(""),[U,L]=(0,n.useState)(1),[R,H]=(0,n.useState)(0),[V,Y]=(0,n.useState)(0),[Q,J]=(0,n.useState)(0),[X,$]=(0,n.useState)(!1),[ee,et]=(0,n.useState)([]),[er,eo]=(0,n.useState)([]),[en,ei]=(0,n.useState)("");K.split(":"),(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:t}=await c.Z.from("NG_record").select("*").order("NG_code").filter("PD_key","in","("+localStorage.getItem("PD_key")+")");et(e)};e()},[]);let ea=async()=>{let{data:e,error:t,count:r}=await c.Z.from("NG_record").select("NG_qty",{count:"exact"}).filter("PD_key","in","("+localStorage.getItem("PD_key")+")");if(!t){let o=e.reduce((e,t)=>e+t.NG_qty,0);await J(o),await el(Number(o))}},el=async e=>{let{data:t,error:r}=await c.Z.from("Production_history").update({NG_qty:e}).eq("PD_key",localStorage.getItem("PD_key"));t?console.log(t):console.log(r)};(0,n.useEffect)(()=>{let e=c.Z.channel("custom-all-NG_recordTable").on("postgres_changes",{event:"*",schema:"public",table:"NG_record"},e=>{console.log("Change received NG_record",e),es(),ea()}).subscribe();return()=>{c.Z.removeChannel(e)}},[ee]);let es=async()=>{let{data:e,error:t}=await c.Z.from("NG_record").select("*").order("NG_code").filter("PD_key","in","("+localStorage.getItem("PD_key")+")");et(e)};(0,f.ZP)(i.Z)(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff",...t.typography.body2,padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary}});let ec=(e,t)=>{P(t.row.NG_code+" "+t.row.NG_qty+" Pcs "),v(t.row.id)},ed=(e,t)=>{z(t.row.NG_code),M(t.row.Part_name),W(t.row.NG_qty),T(t.row.NG_description),N(t.row.id)},eu=async e=>{if(e.preventDefault(),w){let{data:t,error:r}=await c.Z.from("NG_record").delete().eq("id",w);r||(console.log("NG Delete Success :",t),es(),Z())}},em=async e=>{if(e.preventDefault(),O){let{data:t,error:r}=await c.Z.from("NG_record").update({NG_qty:F}).eq("id",O);r||(console.log("NG Edit Success :",t),es(),q())}};return((0,n.useEffect)(()=>{$(!0)},[]),X)?(0,o.jsxs)("div",{children:[(0,o.jsx)(a.Z,{sx:{height:400,flexGrow:1},children:(0,o.jsx)(s._,{rows:ee,columns:[{field:"NG_code",headerName:"Code"},{field:"NG_description",headerName:"Description"},{field:"Part_name",headerName:"Part component",width:130},{field:"NG_qty",headerName:"Q'ty",type:"number",width:70},{field:"action",headerName:"Delete",width:70,sortable:!1,disableColumnMenu:!0,renderCell:e=>(0,o.jsx)(d.Z,{onClick(t){ec(t,e),j()},children:(0,o.jsx)(g.Z,{"aria-label":"delete",size:"large",children:(0,o.jsx)(x.Z,{})})})},{field:"actionEdit",headerName:"Edit",width:70,sortable:!1,disableColumnMenu:!0,renderCell:e=>(0,o.jsx)(d.Z,{onClick(t){ed(t,e),I()},children:(0,o.jsx)(g.Z,{"aria-label":"edit",size:"large",children:(0,o.jsx)(p.Z,{})})})}],components:{Toolbar:S}})}),(0,o.jsx)(u.Z,{open:r,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(a.Z,{component:"form",onSubmit:eu,noValidate:!0,sx:y,children:[(0,o.jsx)(d.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Confirm delete"}),(0,o.jsxs)(d.Z,{id:"modal-modal-description",sx:{mt:2},children:["Do you want to delete NG code : ",b," ?",(0,o.jsx)("div",{children:(0,o.jsx)("br",{})}),(0,o.jsxs)(h.Z,{direction:"row",justifyContent:"center",spacing:2,children:[(0,o.jsx)(m.Z,{type:"submit",variant:"contained",children:"Yes"}),(0,o.jsx)(m.Z,{onClick:Z,variant:"outlined",color:"error",children:"No"})]})]})]})}),(0,o.jsx)(u.Z,{open:k,onClose:q,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(a.Z,{component:"form",onSubmit:em,noValidate:!0,sx:{...y,width:1e3},children:[(0,o.jsx)(d.Z,{id:"modal-modal-title",variant:"h3",p:3,children:"Edit NG"}),(0,o.jsxs)(h.Z,{direction:"row",justifyContent:"center",spacing:4,children:[(0,o.jsxs)(d.Z,{sx:{fontSize:20,width:150},children:["NG code : ",E]}),(0,o.jsxs)(d.Z,{sx:{fontSize:20,width:300},children:["Part :",G," "]}),(0,o.jsxs)(d.Z,{sx:{fontSize:20,width:200},children:["Detail : ",C]}),(0,o.jsx)(_.Z,{sx:{width:300},label:"NG_qty",id:"outlined-size-normal",type:"number",InputLabelProps:{shrink:!0},value:F,onChange:e=>W(e.target.value)})]}),(0,o.jsxs)(h.Z,{direction:"row",justifyContent:"center",spacing:2,p:2,children:[(0,o.jsx)(m.Z,{type:"submit",variant:"contained",children:"Submit"}),(0,o.jsx)(m.Z,{onClick:q,variant:"outlined",color:"error",children:"Close"})]})]})})]}):null}},3918:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return et}});var o=r(5893),n=r(7294),i=r(1719),a=r(1953),l=r(1401),s=r(5413);r(5734);var c=r(2223),d=r(226),u=r(2587),m=r(9144),h=r(5084),f=r(9630),g=r(2096),x=r(8316),p=r(1538),_=r(3442),y=r(3751),S=r(3007),j=r(754),Z=r(3366),w=r(7462),v=r(6010),b=r(4780),P=r(1109),k=r(8884),D=r(1588),I=r(4867);function q(e){return(0,I.Z)("MuiTable",e)}(0,D.Z)("MuiTable",["root","stickyHeader"]);let O=["className","component","padding","size","stickyHeader"],N=e=>{let{classes:t,stickyHeader:r}=e;return(0,b.Z)({root:["root",r&&"stickyHeader"]},q,t)},C=(0,i.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver(e,t){let{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,w.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,w.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),T="table",E=n.forwardRef(function(e,t){let r=(0,k.Z)({props:e,name:"MuiTable"}),{className:i,component:a=T,padding:l="normal",size:s="medium",stickyHeader:c=!1}=r,d=(0,Z.Z)(r,O),u=(0,w.Z)({},r,{component:a,padding:l,size:s,stickyHeader:c}),m=N(u),h=n.useMemo(()=>({padding:l,size:s,stickyHeader:c}),[l,s,c]);return(0,o.jsx)(P.Z.Provider,{value:h,children:(0,o.jsx)(C,(0,w.Z)({as:a,role:a===T?null:"table",ref:t,className:(0,v.Z)(m.root,i),ownerState:u},d))})});var z=r(9807),G=r(5605),M=r(6777),F=r(3978),W=r(9417),A=r(9602),K=r(4945),B=r(8034),U=r(8683),L=r(7169),R=r(2090),H=r(619),V=r(7215),Y=r(1163),Q=r(1019),J=r(637);let X={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1e3,hight:450,bgcolor:"background.paper",border:"20px solid #87CEFA",boxShadow:24,pt:3,px:5,pb:3},$={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1e3,hight:450,bgcolor:"background.paper",border:"20px solid #FF0000",boxShadow:24,pt:3,px:5,pb:3},ee=(0,i.ZP)(l.Z)(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff",...t.typography.body2,padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary}});var et=function(){let[e,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),[Z,w]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),[P,k]=(0,n.useState)(""),[D,I]=(0,n.useState)(""),[q,O]=(0,n.useState)(""),[N,C]=(0,n.useState)(0),T=q.split(":"),[et,er]=(0,n.useState)([]),[eo,en]=(0,n.useState)(0),[ei,ea]=(0,n.useState)(""),[el,es]=(0,n.useState)(""),ec=async()=>{let{data:e,error:t}=await Q.Z.from("Manpower_record").update({PD_key:localStorage.getItem("PD_key"),activate_data:"activated"}).eq("Work_order_id",localStorage.getItem("CheckWo")).eq("activate_data","not");e?(console.log("Autoup PD_key Manpower_record Success",e),es("UpComplete")):console.log("Autoup PD_key Manpower_record Error",t)};(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await Q.Z.from("DownTimeCode").select("*").order("code",{ascending:!0});er(e),console.log(e)};e()},[]);let[ed,eu]=(0,n.useState)(!1),em=()=>{let e=localStorage.getItem("TimeStart");null===e&&alert("Please press the start button first."),null!=e&&(eu(!0),t2())},eh=()=>{eu(!1)},{seconds:ef,minutes:eg,hours:ex,days:ep,isRunning:e_,start:ey,pause:eS,reset:ej}=(0,y.useStopwatch)({autoStart:!1}),[eZ,ew]=(0,n.useState)(!1),ev=()=>{ew(!0)},eb=()=>{ew(!1)},eP=async()=>{let{data:e,error:t}=await Q.Z.from("Production_unit_group").update({status_run:"Downtime"}).eq("PD_key",localStorage.getItem("PD_key"));t||console.log("Downtime Status Success",e)},ek=async()=>{let{data:e,error:t}=await Q.Z.from("Production_unit_group").update({status_run:"Online"}).eq("PD_key",localStorage.getItem("PD_key"));t||console.log("Downtime Status Success",e)},eD=async()=>{if(!q)return tM((0,o.jsx)(J.default,{}));if(tM(""),""===v&&(await b(e2),await e5(e$),await eP(),await re()),""===v){let{data:e,error:t}=await Q.Z.from("Downtime_record").insert([{Work_order_id:localStorage.getItem("Work_order_id"),PD_key:localStorage.getItem("PD_key"),Downtime_code:T[0],Begin_time:e2,Downtime_description:T[1]}]);t&&console.log(t),e&&console.log(e),await eu(!1),await ev()}},[eI,eq]=(0,n.useState)(!1),eO=()=>{let e=localStorage.getItem("TimeStart");null===e&&alert("Please press the start button first."),null!=e&&(rD(),t5(),tv(),rJ(),rn(),rp(),rl(),eq(!0))},eN=()=>{eq(!1),rH([])},[eC,eT]=(0,n.useState)(!1),eE=()=>{eT(!0)},[ez,eG]=(0,n.useState)(""),[eM,eF]=(0,n.useState)(""),eW=async()=>{let{data:e,error:t}=await Q.Z.from("Production_history").update({OK_qty:ez,NG_qty:eM}).eq("PD_key",localStorage.getItem("PD_key"));e?console.log("Susscess Edit",e):console.log("Error Edit",t),eT(!1)},eA=()=>{eT(!1)},[eK,eB]=(0,n.useState)(!1),eU=()=>{eB(!0)},eL=()=>{eB(!1)},eR=new Date,eH=eR.getDate(),eV=eR.getMonth()+1,eY=eR.getFullYear(),eQ=("0"+eR.getHours()).slice(-2),eJ=("0"+eR.getMinutes()).slice(-2),eX=("0"+eR.getSeconds()).slice(-2),e$=eR.getTime(),e0="".concat(eY,"-").concat(eV,"-").concat(eH),e1="".concat(eH,"-").concat(eV,"-").concat(eY),e2="".concat(eQ,":").concat(eJ,":").concat(eX),[e3,e5]=(0,n.useState)(""),[e8,e4]=(0,n.useState)(""),e6=Math.ceil((e8-e3)*60/3600/1e3),e9=async()=>{let{data:e,error:t}=await Q.Z.from("Production_unit_group").update({status_run:"Online",PD_key:localStorage.getItem("PD_key"),Work_order_id:localStorage.getItem("Work_order_id")}).eq("PD_line",localStorage.getItem("Production_unit"))},e7=async()=>{let{data:e,error:t}=await Q.Z.from("Production_unit_group").update({status_run:"Offline",PD_key:null,Work_order_id:null}).eq("PD_line",localStorage.getItem("Production_unit"))},te=async()=>{let{data:e,error:t}=await Q.Z.from("Production_history").update({Begin_time:e2,Status:"Online"}).eq("PD_key",localStorage.getItem("PD_key"));e?console.log(e):console.log(t)},tt=async()=>{let{data:e,error:t}=await Q.Z.from("Work_order").update({Status_working:"Online"}).eq("Work_order_id",localStorage.getItem("Work_order_id"));e&&console.log(e),t&&console.log(t)},tr=async()=>{let{data:e,error:t}=await Q.Z.from("Manpower_record").update({start_datetime:e2,TimeStamp_start:e$}).eq("PD_key",localStorage.getItem("PD_key"));e?console.log(e):console.log(t)},to=async()=>{let e=localStorage.getItem("TimeStart");null===e&&(w(e2),te(),tt(),tr(),e9(),localStorage.setItem("TimeStart",e2),localStorage.setItem("timeStampStart",e$),localStorage.setItem("StatusOnline","Online"),t0())},tn=async()=>{let e=localStorage.getItem("TimeStart");""===P&&""!=e&&(await k(e2),await e4(e$),await ew(!1),await ek(),await t9())},ti=async()=>{let{data:e,error:t}=await Q.Z.from("Downtime_record").update({End_time:e2,Duration_downtime:e6}).is("End_time",null).is("Duration_downtime",null);e?console.log("Up End_time: ",e):console.log("update ไปแล้วกับ eroor",t),await e5(""),await e4(""),await b(""),await k(""),await O("")};e6>0&&ti();let[ta,tl]=(0,n.useState)(!1),ts=()=>tl(!0),tc=()=>tl(!1),[td,tu]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=setInterval(()=>{tu(e2)},1e3);return()=>clearInterval(e)});let[tm,th]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:t,count:r}=await Q.Z.from("Production_history").select("NG_qty",{count:"exact"}).filter("PD_key","in","("+localStorage.getItem("PD_key")+")");if(!t){let o=e.reduce((e,t)=>e+t.NG_qty,0);th(o)}};e()},[tm]);let tf=()=>{let e=async()=>{let{data:e,error:t,count:r}=await Q.Z.from("Production_history").select("NG_qty",{count:"exact"}).filter("PD_key","in","("+localStorage.getItem("PD_key")+")");if(!t){let o=e.reduce((e,t)=>e+t.NG_qty,0);th(o)}};e()};(0,n.useEffect)(()=>{Q.Z.channel("custom-delete-NGShow").on("postgres_changes",{event:"UPDATE",schema:"public",table:"Production_history"},e=>{console.log("Change received!",e),tg(),tf(),tv()}).subscribe()},[tm]),(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:t,count:r}=await Q.Z.from("Production_history").select("OK_qty",{count:"exact"}).filter("PD_key","in","("+localStorage.getItem("PD_key")+")");if(!t){let o=e.reduce((e,t)=>e+t.OK_qty,0);C(o)}};e()},[N]);let tg=()=>{let e=async()=>{let{data:e,error:t,count:r}=await Q.Z.from("Production_history").select("OK_qty",{count:"exact"}).filter("PD_key","in","("+localStorage.getItem("PD_key")+")");if(!t){let o=e.reduce((e,t)=>e+t.OK_qty,0);C(o)}};e()},tx=async()=>{let e=localStorage.getItem("TimeStart");if(null===e&&alert("Please press the start button first."),null!=e){let{data:t,error:r}=await Q.Z.from("Production_history").select("OK_qty, Order_qty, NG_qty , Open_qty").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").single();tQ(),r?console.log(r):t&&t.OK_qty<t.Open_qty&&tp(Number(t.OK_qty+1))}},tp=async e=>{let{data:t,error:r}=await Q.Z.from("Production_history").update({OK_qty:e}).eq("PD_key",localStorage.getItem("PD_key"));tg()},[t_,ty]=(0,n.useState)([]),tS=e2.split(":"),tj=async()=>{if("Day"===t_){if(e2>"18:30:00"){let e=(tS[0]-13)*60,t=tS[1]-30;en(e+t),ea("Y"),console.log("celculeteOT Success OT YES")}e2<"18:30:00"&&(en(0),ea("N"))}if("Night"===t_){if(e2>"06:30:00"){let r=(tS[0]-10)*60,o=tS[1]-30;en(r+o)}e2<"06:30:00"&&en(0)}};(0,n.useEffect)(()=>{t(!0);let e=async()=>{let{data:e,error:t}=await Q.Z.from("Production_history").select("*").eq("Work_order_id",localStorage.getItem("Work_order_id")).eq("Production_unit",localStorage.getItem("Production_unit")).eq("Production_date",e0).limit(1);e.length?(ty(e[0].Shift),ec()):console.log(t)};e(),t(!1)},[]);let[tZ,tw]=(0,n.useState)([]),tv=async()=>{let{data:e,error:t}=await Q.Z.from("Production_history").select("*").eq("PD_key",localStorage.getItem("PD_key"));(null==e?void 0:e.length)?(tw(e),eG(e[0].OK_qty),eF(e[0].NG_qty),console.log("data รวบยอดสุดท้าย",e)):console.log(t)},[tb,tP]=(0,n.useState)(!1),tk=()=>{let e=localStorage.getItem("TimeStart");null===e&&alert("Please press the start button first."),null!=e&&(tP(!0),tX())},tD=()=>tP(!1),[tI,tq]=(0,n.useState)(""),[tO,tN]=(0,n.useState)(1),[tC,tT]=(0,n.useState)([]),[tE,tz]=(0,n.useState)(""),[tG,tM]=(0,n.useState)(""),[tF,tW]=(0,n.useState)(""),[tA,tK]=(0,n.useState)(0),tB=tI.split(":");(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await Q.Z.from("NgCode").select("*");tT(e),console.log(e)};e()},[]);let tU=async()=>{let{data:e,error:t,count:r}=await Q.Z.from("NG_record").select("NG_qty",{count:"exact"}).filter("PD_key","in","("+localStorage.getItem("PD_key")+")");if(!t){let o=e.reduce((e,t)=>e+t.NG_qty,0);await tK(o),tA<o&&await tL(Number(o))}},tL=async e=>{let{data:t,error:r}=await Q.Z.from("Production_history").update({NG_qty:e}).eq("PD_key",localStorage.getItem("PD_key"));t?console.log(t):console.log(r)},tR=async()=>{if(!tI||!tO||!r7)return tz((0,o.jsx)(U.default,{}));tz(""),await tH(),await t4()},tH=async()=>{let{data:e,error:t}=await Q.Z.from("NG_record").select("id, NG_qty").filter("NG_code","in","("+tB[0]+")").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").in("Part_name",[r7,ot]).limit(1);if(t)console.log("ChNgCode",t);else if(e.length>0){var r,o;tY(Number(null===(r=e[0])||void 0===r?void 0:r.id),Number((null===(o=e[0])||void 0===o?void 0:o.NG_qty)+tO))}else await tV()},tV=async()=>{if(t(!0),""===ot){let{data:e,error:r}=await Q.Z.from("NG_record").insert([{Work_order_id:localStorage.getItem("Work_order_id"),NG_code:tB[0],NG_description:tB[1],NG_qty:tO,Production_date:e0,Production_unit:localStorage.getItem("Production_unit"),PD_key:localStorage.getItem("PD_key"),Item_number:localStorage.getItem("ItemNumber"),Part_name:r7}]);e?console.log("NG Insert Success :",e):console.log("Insert Error",r)}if("Other"===r7){let{data:o,error:n}=await Q.Z.from("NG_record").insert([{Work_order_id:localStorage.getItem("Work_order_id"),NG_code:tB[0],NG_description:tB[1],NG_qty:tO,Production_date:e0,Production_unit:localStorage.getItem("Production_unit"),PD_key:localStorage.getItem("PD_key"),Item_number:localStorage.getItem("ItemNumber"),Part_name:ot}]);o?console.log("NG Insert Success :",o):console.log("Insert Error",n)}await tU(),await tq(""),await tN(1),await tf(),await oe(""),await or(""),await tD(),await t(!1)},tY=async(e,t)=>{if(e||t){let{data:r,error:o}=await Q.Z.from("NG_record").update({NG_qty:t}).eq("id",e);o||(console.log("UPdate NG Success :"),await tU(),await tq(""),await tN(1),await tf(),await tD())}},[tQ,tJ]=(0,H.Z)("/OK.mp3"),[tX,t$]=(0,H.Z)("/NG.mp3"),[t0,t1]=(0,H.Z)("/Start.mp3"),[t2,t3]=(0,H.Z)("/Pause.mp3"),[t5,t8]=(0,H.Z)("/Stop.mp3"),[t4,t6]=(0,H.Z)("/NG_Success.mp3"),[t9,t7]=(0,H.Z)("/The_end_downtime.mp3"),[re,rt]=(0,H.Z)("/On_Downtime.mp3"),[rr,ro]=(0,H.Z)("/Stop_complete.mp3"),rn=async()=>{let{data:e,error:t}=await Q.Z.from("Downtime_record").select("Duration_downtime").filter("PD_key","in","("+localStorage.getItem("PD_key")+")").neq("Downtime_code","Z01").neq("Downtime_code","D01");e&&rz(e.map(e=>e.Duration_downtime))},[ri,ra]=(0,n.useState)(""),rl=async()=>{ra(localStorage.getItem("timeStampStart"))},[rs,rc]=(0,n.useState)(""),rd=async()=>{await i(!0),await rc(e$),await tj(),await rw(),await rZ(),await e7(),await rC(),await rb(),await i(!1)};(0,n.useEffect)(()=>{let e=async()=>{if(""!=rs){let{data:e,error:t}=await Q.Z.from("Manpower_record").update({end_datetime:e2,TimeStamp_end:rs,eff_date:e0}).eq("PD_key",localStorage.getItem("PD_key")).is("end_datetime",null);e?console.log("UpManpowerAutoduration Success",e):console.log("UpManpowerAutoduration Error",t)}};e()},[rs]),(0,n.useEffect)(()=>{let e=async()=>{if(rT>0){let{data:e,error:t}=await Q.Z.from("Production_history").update({End_time:e2,Duration_time:rT,OP_confirm_after:localStorage.getItem("emp_no"),Manpower_number:rY.length,Runtime:rF,Cycle_time:rW.toFixed(4),Availability_percent:rA.toFixed(4),Quality_percent:rK.toFixed(4),Status:"Offline",Standard_time:rI,Performance_percent:rU.toFixed(4),OBU_status:"Waiting_transfer",Open_qty:ry,OEE_percent:rL.toFixed(4),OT_duration:eo,OT_operation:ei,Performance_permanp:rQ.toFixed(4)}).eq("PD_key",localStorage.getItem("PD_key")).is("End_time",null);e?console.log("UpProductionAutoduration Success",e):console.log("UpProductionAutoduration Error",t)}};e()},[rs]);let[ru,rm]=(0,n.useState)(0),[rh,rf]=(0,n.useState)(0),[rg,rx]=(0,n.useState)(0),rp=async()=>{let{data:e,error:t}=await Q.Z.from("Work_order").select("*").eq("Work_order_id",localStorage.getItem("Work_order_id"));e&&(rm(e[0].Complete_qty),rf(e[0].Open_qty),rx(e[0].NG_qty))},r_=ru+ez,ry=rh-ez,rS=rg+eM,rj=(0,Y.useRouter)(),rZ=async()=>{let{data:e,error:t}=await Q.Z.from("Work_order").update({Status_working:"Offline"}).eq("Work_order_id",localStorage.getItem("Work_order_id"));e&&console.log("update Status WO Success",e),t&&console.log(t)},rw=async()=>{let{data:e,error:t}=await Q.Z.from("trigger_dairy_report").insert([{PD_key:localStorage.getItem("PD_key"),status_trigger:"Waiting_transfer"}]);e&&console.log("upTrigger success",e),t&&console.log("upTrigger error",t)},rv=async()=>{await fetch("https://prod-20.southeastasia.logic.azure.com:443/workflows/46164a65562940cf98566f9eb122b43c/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=fECBqDxokAbk5aBK_upsjAbTud9P7xSenDpb50B_O80")},rb=async()=>{let{data:e,error:t}=await Q.Z.from("Work_order").update({Complete_qty:r_,Open_qty:ry,NG_qty:rS}).eq("Work_order_id",localStorage.getItem("Work_order_id"));t?console.log("UpDateWork_order_id Error",t):(console.log("UpDateWork_order_id Success",e),await rr(),localStorage.removeItem("timeStampStart"),localStorage.removeItem("Production_unit"),localStorage.removeItem("PD_key"),localStorage.removeItem("CheckWo"),localStorage.removeItem("NG_qty_WO"),localStorage.removeItem("TimeStart"),localStorage.removeItem("ItemNumber"),localStorage.removeItem("Open_qty"),localStorage.removeItem("Complete_qty"),localStorage.removeItem("StatusOnline"),await rv(),await rj.push("/draw"))},[rP,rk]=(0,n.useState)(""),rD=async()=>{let{data:e,error:t}=await Q.Z.from("Downtime_record").select("Duration_downtime").filter("Downtime_description","in","(พักเที่ยง)");e&&rk(e.map(e=>e.Duration_downtime)),t&&console.log("Downtime_description ERROR !!",t)},[rI,rq]=(0,n.useState)(0),[rO,rN]=(0,n.useState)("");(0,n.useEffect)(()=>{rN(localStorage.getItem("PDU"));let e=async()=>{let{data:e,error:t}=await Q.Z.from("Production_history").select("Standard_time").eq("PD_key",localStorage.getItem("PD_key"));(null==e?void 0:e.length)?(rq(e[0].Standard_time),console.log("fetchdataStandard_time Success",e)):console.log("fetchdataStandard_time Error",t)};e()},[]);let rC=async()=>{let{data:e,error:t}=await Q.Z.rpc("calculatetimeman");t?console.error(t):console.log(e)},rT=Math.ceil((rs-ri)*60/3600/1e3),[rE,rz]=(0,n.useState)([]),rG=0;for(let rM of rE)rG+=rM;let rF=rT-rG,rW=rF/(N+tm),rA=rF/rT,rK=N/(N+tm),rB=60*rF,rU=rI*rO*(N+tm)/rB,rL=rA*rK*rU,[rR,rH]=(0,n.useState)([]),rV=rR.map(e=>e.emp_no),rY=[...new Set(rV)],rQ=rI/(rB/((N+tm)*rY.length)),rJ=async()=>{let{data:e,error:t}=await Q.Z.from("Manpower_record").select("emp_no").eq("PD_key",localStorage.getItem("PD_key"));e?(console.log("fetchManpower Success",e),rH(e)):console.log("fetchManpowerError",t)},rX=e=>{e.preventDefault(),r1()},[r$,r0]=(0,n.useState)(""),r1=async()=>{await t(!0);let{data:e,error:r}=await Q.Z.from("userID").select("*").eq("emp_name",localStorage.getItem("userName")).eq("pass",r$).limit(1);r?console.log("Password is incorrect",r):(e.length>0&&(console.log("Confirm Success",e),await rd()),0===e.length&&alert("Password is incorrect")),await t(!1)},[r2,r3]=(0,n.useState)("");(0,n.useEffect)(()=>{Q.Z.channel("custom-update-wo-open-qty").on("postgres_changes",{event:"UPDATE",schema:"public",table:"Work_order"},e=>{console.log("Change received! up date WorkOder ",e),r5()}).subscribe()},[]);let r5=async()=>{let{data:e,error:t}=await Q.Z.from("Work_order").select("Open_qty").eq("Work_order_id",localStorage.getItem("Work_order_id"));e?(console.log("Open_qty",e),r3(e.map(e=>e.Open_qty))):console.log(t)};(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:t}=await Q.Z.from("Work_order").select("Open_qty").eq("Work_order_id",localStorage.getItem("Work_order_id"));e?(console.log("Open_qty",e),r3(e.map(e=>e.Open_qty))):console.log(t)};e()},[]);let[r8,r4]=(0,n.useState)([]),[r6,r9]=(0,n.useState)(""),[r7,oe]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:t}=await Q.Z.from("BOM_ract").select("*").eq("master_part",localStorage.getItem("ItemNumber"));e&&(r4(e),r9(localStorage.getItem("ItemNumber")),console.log("fetchdataBOM_ract")),t&&console.log("fetchdataBOM_ract",t)};e()},[]);let[ot,or]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=async()=>{let{data:e,error:t}=await Q.Z.from("Manpower_record").update({start_datetime:localStorage.getItem("TimeStart"),TimeStamp_start:localStorage.getItem("timeStampStart")}).eq("PD_key",localStorage.getItem("PD_key")).is("start_datetime",null);t?console.log("ทำงานปกติไม่อัพเดทเข้าไปซ้ำ",t):console.log("fetchdataTimestart Success",e)};e()},[e3]);let[oo,on]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{on(!0)},[]),oo)?e?(0,o.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(f.Z,{sx:{fontSize:50},children:"Loading..."}),(0,o.jsx)(j.Z,{})]}):r?(0,o.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(f.Z,{sx:{fontSize:50},children:"Loading1..."}),(0,o.jsx)(j.Z,{})]}):(0,o.jsxs)("div",{children:[(0,o.jsxs)(a.Z,{sx:{flexGrow:1},children:[(0,o.jsxs)(s.Z,{container:!0,spacing:4,children:[(0,o.jsxs)(s.Z,{container:!0,xs:12,md:12,lg:12,spacing:2,children:[(0,o.jsxs)(s.Z,{xs:3,lg:3,children:[(0,o.jsxs)(ee,{children:[(0,o.jsx)(a.Z,{id:"category-a",sx:{fontSize:"20px",textTransform:"uppercase",color:"info.main"},children:"TIT.company"}),(0,o.jsxs)(a.Z,{component:"ul","aria-labelledby":"category-a",sx:{height:40,pl:0},children:["Date : ",e1," ",(0,o.jsx)("br",{})," Name station :"," ",localStorage.getItem("Production_unit")," ",(0,o.jsx)("br",{})," Shift :",t_]})]}),(0,o.jsxs)(ee,{children:[(0,o.jsx)(a.Z,{id:"category-a",sx:{fontSize:"20px",textTransform:"uppercase",color:"info.main"},children:"Time Start"}),(0,o.jsxs)(a.Z,{component:"ul","aria-labelledby":"category-a",sx:{height:55,pl:0},children:[(0,o.jsx)(f.Z,{children:e2}),(0,o.jsxs)(f.Z,{children:["TimeStart : ",localStorage.getItem("TimeStart")]}),(0,o.jsxs)(f.Z,{children:["Timestop : ",D]})]})]})]}),(0,o.jsx)(s.Z,{xs:4.5,lg:4.5,children:(0,o.jsxs)(h.Z,{sx:{height:"100%",width:"100%",bgcolor:"#7CFC00"},onClick:tx,variant:"contained",color:"inherit",children:[(0,o.jsx)(f.Z,{sx:{p:1,fontSize:"60px",color:"#000000"},children:"OK"}),(0,o.jsx)(f.Z,{sx:{display:"flex",color:"#000000",alignItems:"center",justifyContent:"center"},variant:"h4",children:N}),(0,o.jsx)(f.Z,{sx:{display:"flex",color:"#000000",alignItems:"center",justifyContent:"center"},variant:"h4",children:"/"}),(0,o.jsx)(f.Z,{sx:{display:"flex",color:"#000000",alignItems:"center",justifyContent:"center"},variant:"h4",children:r2}),(0,o.jsx)(f.Z,{sx:{p:1},children:(0,o.jsx)(c.default,{})})]})}),(0,o.jsx)(s.Z,{xs:4.5,lg:4.5,children:(0,o.jsxs)(h.Z,{variant:"contained",color:"inherit",sx:{height:"100%",width:"100%",bgcolor:"#FF0000"},onClick:tk,children:[(0,o.jsx)(f.Z,{sx:{p:1,fontSize:"60px",color:"#000000"},children:"NG"}),(0,o.jsx)(f.Z,{sx:{display:"flex",color:"#000000",alignItems:"center",justifyContent:"center"},variant:"h4",children:tm}),(0,o.jsx)(f.Z,{sx:{display:"flex",color:"#000000",alignItems:"center",justifyContent:"center"},variant:"h4",children:"/"}),(0,o.jsx)(f.Z,{sx:{display:"flex",color:"#000000",alignItems:"center",justifyContent:"center"},variant:"h4",children:r2}),(0,o.jsx)(f.Z,{sx:{p:1},children:(0,o.jsx)(S.default,{})})]})})]}),(0,o.jsxs)(s.Z,{container:!0,xs:3,md:12,lg:12,spacing:2,children:[(0,o.jsx)(s.Z,{xs:3,children:(0,o.jsxs)(ee,{sx:{height:"100%",width:"100%"},children:[(0,o.jsx)(a.Z,{id:"category-c",sx:{fontSize:"28px",textTransform:"uppercase",color:"error.main",p:1},children:"Item Oder"}),(0,o.jsxs)(f.Z,{sx:{fontSize:"18px"},children:["WorkOder ID : ",localStorage.getItem("Work_order_id")]}),(0,o.jsxs)(f.Z,{sx:{fontSize:"18px"},children:["Item : ",localStorage.getItem("ItemNumber")]}),"PD Key: ",localStorage.getItem("PD_key")]})}),(0,o.jsx)(s.Z,{xs:3,lg:3,children:(0,o.jsxs)(h.Z,{sx:{height:"100%",width:"100%",fontSize:"26px",textTransform:"uppercase",color:"#000000",lineHeight:5,bgcolor:"#98FB98",p:1},variant:"outlined",onClick:to,children:["Start",(0,o.jsx)(A.Z,{fontSize:"large"})]})}),(0,o.jsx)(s.Z,{xs:3,lg:3,children:(0,o.jsxs)(h.Z,{sx:{height:"100%",width:"100%",fontSize:"26px",textTransform:"uppercase",color:"#000000",lineHeight:5,bgcolor:"#FFD700"},variant:"outlined",onClick:em,children:["Pause ",(0,o.jsx)(K.Z,{fontSize:"large"})]})}),(0,o.jsx)(s.Z,{xs:3,lg:3,children:(0,o.jsxs)(h.Z,{sx:{height:"100%",width:"100%",fontSize:"26px",textTransform:"uppercase",color:"#000000",textAlign:"center",lineHeight:5,bgcolor:"#FA8072"},variant:"outlined",onClick:eO,children:["Stop ",(0,o.jsx)(B.Z,{fontSize:"large"})]})}),(0,o.jsxs)(s.Z,{container:!0,xs:3,md:12,lg:12,spacing:2,children:[(0,o.jsx)(s.Z,{xs:12,md:6,lg:6,children:(0,o.jsx)(ee,{children:(0,o.jsx)(d.default,{})})}),(0,o.jsx)(s.Z,{xs:12,md:6,lg:6,children:(0,o.jsx)(ee,{children:(0,o.jsx)(u.default,{})})})]})]})]}),(0,o.jsx)(R.default,{}),(0,o.jsx)(g.Z,{hideBackdrop:!0,open:ed,onClose:eh,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(a.Z,{sx:{...X,width:1080,height:780},component:"form",children:[(0,o.jsx)(f.Z,{variant:"h1",children:"Down Time"}),(0,o.jsxs)(f.Z,{sx:{fontSize:30},children:["Time pause : ",e2]}),(0,o.jsx)(x.Z,{sx:{fontSize:30},children:"Detail"}),(0,o.jsxs)(_.Z,{label:"Detals",fullWidth:!0,value:q,onChange:e=>O(e.target.value),children:[(0,o.jsx)(p.Z,{sx:{fontSize:28},value:"",children:(0,o.jsx)("em",{children:"None"})}),et.map(e=>(0,o.jsxs)(p.Z,{sx:{fontSize:28},value:e.code+":"+e.desc_th,children:[e.code," : ",e.desc_th," : ",e.desc_china]},e.code))]}),(0,o.jsx)("div",{children:(0,o.jsx)("br",{})}),tG,(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:1,p:5},children:[(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"success.main"},onClick:eD,children:(0,o.jsx)(f.Z,{onClick:ey,children:"SUBMIT"})}),(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"red"},onClick:eh,children:(0,o.jsx)(f.Z,{children:"CLOSE"})})]})]})}),(0,o.jsx)(g.Z,{hideBackdrop:!0,open:eZ,onClose:eb,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(a.Z,{sx:{...$,width:1080,height:780},component:"form",children:[(0,o.jsx)(f.Z,{style:{fontSize:"80px"},children:"Down Time"}),(0,o.jsx)(f.Z,{style:{fontSize:"30px"},children:"please push start when end of downtime"}),(0,o.jsxs)(f.Z,{style:{fontSize:"30px"},children:["Detail : ",T[1]]}),(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)(f.Z,{style:{fontSize:"50px"},children:"Timer Downtime"}),(0,o.jsxs)("div",{style:{fontSize:"100px"},children:[(0,o.jsx)("span",{children:ep}),":",(0,o.jsx)("span",{children:ex}),":",(0,o.jsx)("span",{children:eg}),":",(0,o.jsx)("span",{children:ef})]}),(0,o.jsx)(f.Z,{style:{fontSize:"30px"},children:e_?"Running":"Not running"}),(0,o.jsx)(h.Z,{sx:{width:250,height:150,p:2.5,color:"#000000",bgcolor:"#7CFC00",m:5},variant:"contained",color:"inherit",onClick:tn,children:(0,o.jsx)(f.Z,{sx:{fontSize:"30px",textAlign:"center",textTransform:"uppercase",lineHeight:2},children:"Continue"})})]})]})}),(0,o.jsx)(g.Z,{hideBackdrop:!0,open:eI,onClose:eN,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(a.Z,{sx:{...X,width:1080,height:780},component:"form",children:[(0,o.jsx)(f.Z,{sx:{fontSize:50},children:"Stop"}),(0,o.jsxs)(f.Z,{sx:{fontSize:26},children:["Time Stop : ",e2]}),(0,o.jsxs)(a.Z,{component:"span",display:"flex",justifyContent:"right",alignItems:"center",children:[(0,o.jsx)(h.Z,{sx:{p:1,m:1,bgcolor:"#7CFC00",color:"#000000"},onClick:eE,variant:"contained",color:"inherit",children:"Edit OK_qty"}),(0,o.jsx)(h.Z,{sx:{p:1,m:1,bgcolor:"red",color:"#000000"},onClick:eU,variant:"contained",color:"inherit",children:"Edit NG_qty"})]}),(0,o.jsx)("div",{children:(0,o.jsxs)(s.Z,{xs:12,lg:12,container:!0,spacing:2,children:[(0,o.jsx)(s.Z,{xs:12,lg:12,children:(0,o.jsx)(M.Z,{component:l.Z,children:(0,o.jsxs)(E,{style:{width:"auto",tableLayout:"auto"},"aria-label":"simple table",children:[(0,o.jsx)(F.Z,{children:(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(G.Z,{align:"right",children:"PD_key"}),(0,o.jsx)(G.Z,{align:"right",children:"Work_order_id"}),(0,o.jsx)(G.Z,{align:"right",children:"\xa0\xa0\xa0\xa0\xa0Item_number\xa0\xa0\xa0\xa0"}),(0,o.jsx)(G.Z,{align:"right",children:"Production_unit"}),(0,o.jsx)(G.Z,{align:"right",children:"Production_date"}),(0,o.jsx)(G.Z,{align:"right",children:"OK_qty"}),(0,o.jsx)(G.Z,{align:"right",children:"NG_qty"}),(0,o.jsx)(G.Z,{align:"right",children:"Open_qty"}),(0,o.jsx)(G.Z,{align:"right",children:"Shift"}),(0,o.jsx)(G.Z,{align:"right",children:"Order_qty"}),(0,o.jsx)(G.Z,{align:"right",children:"Begin_time"})]})}),(0,o.jsx)(z.Z,{children:tZ.map(e=>(0,o.jsxs)(W.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,o.jsx)(G.Z,{align:"right",children:e.PD_key}),(0,o.jsx)(G.Z,{align:"right",children:e.Work_order_id}),(0,o.jsx)(G.Z,{align:"right",style:{width:250},children:e.Item_number}),(0,o.jsx)(G.Z,{align:"right",children:e.Production_unit}),(0,o.jsx)(G.Z,{align:"right",children:e.Production_date}),(0,o.jsx)(G.Z,{align:"right",children:e.OK_qty}),(0,o.jsx)(G.Z,{align:"right",children:e.NG_qty}),(0,o.jsx)(G.Z,{align:"right",children:e.Open_qty}),(0,o.jsx)(G.Z,{align:"right",children:e.Shift}),(0,o.jsx)(G.Z,{align:"right",children:e.Order_qty}),(0,o.jsx)(G.Z,{align:"right",children:e.Begin_time})]},e.PD_key))})]})})}),(0,o.jsx)(s.Z,{xs:12,lg:12,children:(0,o.jsx)(V.default,{})})]})}),(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:2},children:[(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"success.main"},onClick:ts,children:"SUBMIT"}),(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"red"},onClick:eN,children:"CLOSE"})]})]})}),(0,o.jsx)(g.Z,{hideBackdrop:!0,open:eC,onClose:eA,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(a.Z,{sx:{...X,width:"auto"},component:"form",children:[(0,o.jsx)("h2",{"text-align":"center",id:"child-modal-title",children:"Edit OK_qty"}),(0,o.jsxs)(f.Z,{children:["Time Edit : ",e2]}),(0,o.jsx)("br",{}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(L.Z,{label:"OK_qty",id:"outlined-size-normal",type:"number",fullWidth:!0,InputLabelProps:{shrink:!0},value:ez,onChange:e=>eG(e.target.value)})}),(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:1,p:5},children:[(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"success.main"},onClick:eW,children:(0,o.jsx)(f.Z,{children:"SUBMIT"})}),(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"red"},onClick:eA,children:(0,o.jsx)(f.Z,{children:"CLOSE"})})]})]})}),(0,o.jsx)(g.Z,{hideBackdrop:!0,open:eK,onClose:eL,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(a.Z,{sx:{...X,height:580,width:1e3},component:"form",children:[(0,o.jsx)(f.Z,{variant:"h4",children:" Edit NG_qty"}),(0,o.jsx)(a.Z,{component:"span",display:"flex",justifyContent:"right",alignItems:"center",children:(0,o.jsx)(h.Z,{sx:{p:1,m:1,bgcolor:"#FF0000",color:"#000000"},variant:"contained",color:"inherit",onClick:eL,children:"CLOSE"})}),(0,o.jsx)(a.Z,{children:(0,o.jsx)(u.default,{})})]})}),(0,o.jsx)(g.Z,{hideBackdrop:!0,open:tb,onClose:tD,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(a.Z,{sx:{...X,width:1080,height:780},component:"form",children:[(0,o.jsx)(f.Z,{variant:"h1",children:"NG Product"}),(0,o.jsx)(f.Z,{sx:{fontSize:30},children:"NG Code: "}),(0,o.jsx)(_.Z,{label:"Detals",fullWidth:!0,value:tI,onChange:e=>tq(e.target.value),children:tC.map(e=>(0,o.jsx)(p.Z,{sx:{fontSize:28},value:e.code+":"+e.desc+":",children:(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:1,p:1},children:[(0,o.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:26,color:"#FF0000"},children:e.code}),(0,o.jsx)(f.Z,{sx:{fontSize:24,color:"#000000"},children:e.desc}),(0,o.jsx)(f.Z,{sx:{fontSize:24,color:"#000000"},children:e.desc_china})]})},e.code))}),(0,o.jsx)(f.Z,{sx:{fontSize:30},children:"NG Part Component: "}),(0,o.jsxs)(_.Z,{fullWidth:!0,value:r7,onChange:e=>oe(e.target.value),children:[(0,o.jsx)(p.Z,{sx:{fontSize:30},value:"",children:(0,o.jsx)("em",{children:"NOne"})}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:"Other",children:(0,o.jsx)("em",{children:"Other"})}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:r6,children:(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:1,p:1},children:[(0,o.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:26,color:"#FF0000"},children:r6}),(0,o.jsx)(f.Z,{sx:{fontSize:24,color:"#00BFFF"},children:"Finish Good"})]})}),r8.map(e=>(0,o.jsx)(p.Z,{value:e.component,children:(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:1,p:1},children:[(0,o.jsx)(f.Z,{sx:{fontWeight:"bold",fontSize:26,color:"#FF0000"},children:e.component}),(0,o.jsx)(f.Z,{sx:{fontSize:24,color:"#000000"},children:e.desc})]})},e.component))]}),(()=>{if("Other"===r7)return(0,o.jsxs)("div",{children:[(0,o.jsx)("br",{}),(0,o.jsx)(L.Z,{fullWidth:!0,label:"กรุณากรอกข้อมูล",value:ot,onChange:e=>or(e.target.value)})]})})(),(0,o.jsx)(x.Z,{id:"demo-simple-select-label",sx:{fontSize:30},children:"NG qty"}),(0,o.jsxs)(_.Z,{sx:{fontSize:30,justifyContent:"center",alignItems:"center"},fullWidth:!0,label:"Qty",value:tO,autoFocus:!0,onChange:e=>tN(e.target.value),children:[(0,o.jsx)(p.Z,{sx:{fontSize:30},value:1,children:"1"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:2,children:"2"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:3,children:"3"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:4,children:"4"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:5,children:"5"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:6,children:"6"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:7,children:"7"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:8,children:"8"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:9,children:"9"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:10,children:"10"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:11,children:"11"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:12,children:"12"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:13,children:"13"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:14,children:"14"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:15,children:"15"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:16,children:"16"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:17,children:"17"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:18,children:"18"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:19,children:"19"}),(0,o.jsx)(p.Z,{sx:{fontSize:30},value:20,children:"20"})]}),(0,o.jsx)("div",{children:(0,o.jsx)("br",{})}),tE,(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"space-around",alignItems:"center",spacing:12,sx:{m:1,p:5},children:[(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"success.main"},onClick:tR,children:(0,o.jsx)(f.Z,{children:"SAVE"})}),(0,o.jsx)(ee,{sx:{width:150,height:60,p:2.5,color:"red"},children:(0,o.jsx)(f.Z,{onClick:tD,children:"CLOSE"})})]})]})})]}),(0,o.jsx)(g.Z,{open:ta,onClose:tc,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(a.Z,{component:"form",onSubmit:rX,noValidate:!0,sx:X,children:[(0,o.jsx)(f.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Confirm Stop Working ?"}),(0,o.jsxs)(f.Z,{sx:{mt:2},children:[(0,o.jsxs)(m.Z,{direction:"row",justifyContent:"center",spacing:1,children:[(0,o.jsx)(f.Z,{sx:{fontSize:38},children:" Name :"}),(0,o.jsxs)(f.Z,{sx:{color:"red",fontSize:38},children:[localStorage.getItem("userName")," "]})]}),(0,o.jsx)(m.Z,{direction:"row",justifyContent:"center",spacing:1,children:(0,o.jsx)(L.Z,{id:"useradd",label:"Password",variant:"outlined",value:r$,name:"useradd",type:"password",onChange:e=>r0(e.target.value),sx:{width:210,height:50,m:1}})}),(0,o.jsxs)(m.Z,{sx:{mt:3},direction:"row",justifyContent:"space-around",alignItems:"center",spacing:2,children:[(0,o.jsx)(h.Z,{type:"submit",variant:"contained",sx:{width:150,height:60,p:2.5},children:"Confirm"}),(0,o.jsx)(h.Z,{onClick:tc,variant:"outlined",color:"error",sx:{width:150,height:60,p:2.5,bgcolor:"red",color:"white"},children:"CLOSE"})]})]})]})})]}):null}},5734:function(){},3751:function(e,t,r){var o;"undefined"!=typeof self&&self,e.exports=(o=r(7294),function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,(function(t){return e[t]}).bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t){e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=t.Time=void 0;var o=i(r(5)),n=i(r(6));function i(e){return e&&e.__esModule?e:{default:e}}t.Time=o.default,t.Validate=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var o,n=(o=r(7))&&o.__esModule?o:{default:o};t.useInterval=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTime=t.useStopwatch=t.useTimer=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};t.default=function(e){if((0,n.useEffect)(function(){console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")},[]),e.expiryTimestamp){var t=(0,i.default)(e);return o({},t,{startTimer:t.start,stopTimer:t.pause,resetTimer:function(){}})}var r=(0,a.default)(e);return o({},r,{startTimer:r.start,stopTimer:r.pause,resetTimer:r.reset})};var n=r(0),i=s(r(4)),a=s(r(8)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}t.useTimer=i.default,t.useStopwatch=a.default,t.useTime=l.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(s){n=!0,i=s}finally{try{!o&&l.return&&l.return()}finally{if(n)throw i}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.expiryTimestamp,r=e.onExpire,d=e.autoStart,u=void 0===d||d,m=n((0,i.useState)(t),2),h=m[0],f=m[1],g=n((0,i.useState)(a.Time.getSecondsFromExpiry(h)),2),x=g[0],p=g[1],_=n((0,i.useState)(u),2),y=_[0],S=_[1],j=n((0,i.useState)(u),2),Z=j[0],w=j[1],v=n((0,i.useState)(c(h)),2),b=v[0],P=v[1];function k(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];P(c(e)),w(t),S(t),f(e),p(a.Time.getSecondsFromExpiry(e))}function D(){var e=new Date;e.setMilliseconds(e.getMilliseconds()+1e3*x),k(e)}return(0,l.useInterval)(function(){b!==s&&P(s);var e=a.Time.getSecondsFromExpiry(h);p(e),e<=0&&(a.Validate.onExpire(r)&&r(),S(!1),P(null))},y?b:null),o({},a.Time.getTimeFromSeconds(x),{start:function(){Z?(p(a.Time.getSecondsFromExpiry(h)),S(!0)):D()},pause:function(){S(!1)},resume:D,restart:k,isRunning:y})};var i=r(0),a=r(1),l=r(2),s=1e3;function c(e){if(!a.Validate.expiryTimestamp(e))return null;var t=a.Time.getSecondsFromExpiry(e),r=Math.floor(1e3*(t-Math.floor(t)));return r>0?r:s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getTimeFromSeconds",value:function(e){var t=Math.ceil(e);return{seconds:Math.floor(t%60),minutes:Math.floor(t%3600/60),hours:Math.floor(t%86400/3600),days:Math.floor(t/86400)}}},{key:"getSecondsFromExpiry",value:function(e,t){var r=e-(new Date).getTime();if(r>0){var o=r/1e3;return t?Math.round(o):o}return 0}},{key:"getSecondsFromPrevTime",value:function(e,t){var r=(new Date).getTime()-e;if(r>0){var o=r/1e3;return t?Math.round(o):o}return 0}},{key:"getSecondsFromTimeNow",value:function(){var e=new Date;return e.getTime()/1e3-60*e.getTimezoneOffset()}},{key:"getFormattedTimeFromSeconds",value:function(t,r){var o=e.getTimeFromSeconds(t),n=o.seconds,i=o.minutes,a=o.hours,l="",s=a;return"12-hour"===r&&(l=a>=12?"pm":"am",s=a%12),{seconds:n,minutes:i,hours:s,ampm:l}}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"expiryTimestamp",value:function(e){var t=new Date(e).getTime()>0;return t||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}},{key:"onExpire",value:function(e){var t=e&&"function"==typeof e;return e&&!t&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",e),t}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,o.useRef)();(0,o.useEffect)(function(){r.current=e}),(0,o.useEffect)(function(){if(!t)return function(){};var e=setInterval(function(){r.current&&r.current()},t);return function(){return clearInterval(e)}},[t])};var o=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(s){n=!0,i=s}finally{try{!o&&l.return&&l.return()}finally{if(n)throw i}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.autoStart,r=e.offsetTimestamp,s=n((0,i.useState)(a.Time.getSecondsFromExpiry(r,!0)||0),2),c=s[0],d=s[1],u=n((0,i.useState)(new Date),2),m=u[0],h=u[1],f=n((0,i.useState)(c+a.Time.getSecondsFromPrevTime(m||0,!0)),2),g=f[0],x=f[1],p=n((0,i.useState)(t),2),_=p[0],y=p[1];return(0,l.useInterval)(function(){x(c+a.Time.getSecondsFromPrevTime(m,!0))},_?1e3:null),o({},a.Time.getTimeFromSeconds(g),{start:function(){var e=new Date;h(e),y(!0),x(c+a.Time.getSecondsFromPrevTime(e,!0))},pause:function(){d(g),y(!1)},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=a.Time.getSecondsFromExpiry(e,!0)||0,o=new Date;h(o),d(r),y(t),x(r+a.Time.getSecondsFromPrevTime(o,!0))},isRunning:_})};var i=r(0),a=r(1),l=r(2)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(s){n=!0,i=s}finally{try{!o&&l.return&&l.return()}finally{if(n)throw i}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.format,r=n((0,i.useState)(a.Time.getSecondsFromTimeNow()),2),s=r[0],c=r[1];return(0,l.useInterval)(function(){c(a.Time.getSecondsFromTimeNow())},1e3),o({},a.Time.getFormattedTimeFromSeconds(s,t))};var i=r(0),a=r(1),l=r(2)}]))}}]);